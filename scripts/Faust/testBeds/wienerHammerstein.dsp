fi = library("filters.lib");
ba = library("basics.lib");

gainAdjust = alpha
with{
    alpha= hslider("Gain Adjust [unit:dB][style:knob]",0, -120, 120, 0.1) : ba.db2linear;
};

antial1Taps = (-0.000062629278059989, 0.000587419646832359, -0.002958335924868847, 0.010516669308602244, -0.029728741253111795, 0.072835244762271947, -0.174017611419441581, 0.622827984157775627, 0.622827984157775627, -0.174017611419441581, 0.072835244762271947, -0.029728741253111795, 0.010516669308602244, -0.002958335924868847, 0.000587419646832359, -0.000062629278059989);
antial1 = fi.fir(antial1Taps);
kernel1 = *(_, 0.990367555088842444) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.998926579179338692, 0.998945950688968964) : fi.tf2np(1.000000000000000000, -1.000000000000000000, 0.000000000000000000, -0.981789159488716034, 0.000000000000000000);
branch1 = antial1 : ^(_, 1) : *(_, ^(gainAdjust, 0)) : kernel1;

antial2Taps = (-0.000112503386611896, -0.000304109258216428, 0.003665714391522309, 0.005862427625787000, -0.028487402159807083, -0.044438699315393751, 0.137796836585346222, 0.426017735517373597, 0.426017735517373597, 0.137796836585346222, -0.044438699315393751, -0.028487402159807079, 0.005862427625787000, 0.003665714391522309, -0.000304109258216428, -0.000112503386611896);
antial2 = fi.fir(antial2Taps);
kernel2 = *(_, 0.117805126190449000) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -0.884697057293854394, 0.618308337443132960) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.503666541422132630, 0.917714701068142458) : fi.tf2np(1.000000000000000000, -1.000000000000000000, 0.000000000000000000, 0.217199829759845281, -0.000000000000000000);
branch2 = antial2 : ^(_, 2) : *(_, ^(gainAdjust, -1)) : kernel2;

antial3Taps = (0.000110593440750337, 0.000200662742471938, -0.002833674445131887, -0.012589303071168990, -0.011841077217327097, 0.046457759956320135, 0.178617489947415081, 0.301877548646670435, 0.301877548646670435, 0.178617489947415081, 0.046457759956320135, -0.011841077217327099, -0.012589303071168990, -0.002833674445131886, 0.000200662742471938, 0.000110593440750337);
antial3 = fi.fir(antial3Taps);
kernel3 = *(_, 0.691896150367170559) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.981944417472308650, 0.982211458388392078) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.996214995190416674, 0.996358127437796615) : fi.tf2np(1.000000000000000000, -1.000000000000000000, 0.000000000000000000, -0.976001593783834664, 0.000000000000000000);
branch3 = antial3 : ^(_, 3) : *(_, ^(gainAdjust, -2)) : kernel3;

antial4Taps = (-0.000076025850966684, -0.000954398660408769, -0.003520148937212055, -0.003107484535361130, 0.017494108966120865, 0.078035862844128487, 0.169839166285731730, 0.242288919887967608, 0.242288919887967608, 0.169839166285731730, 0.078035862844128501, 0.017494108966120865, -0.003107484535361130, -0.003520148937212054, -0.000954398660408769, -0.000076025850966684);
antial4 = fi.fir(antial4Taps);
kernel4 = *(_, 0.140557363326350465) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.528603728745540735, 0.756359767660359172) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.846676461853169915, 0.955524238993201713) : fi.tf2np(1.000000000000000000, -1.000000000000000000, 0.000000000000000000, -0.138775184308810751, 0.000000000000000000);
branch4 = antial4 : ^(_, 4) : *(_, ^(gainAdjust, -3)) : kernel4;

antial5Taps = (-0.000131620344397975, -0.000719509669033846, -0.000704279869724261, 0.006356016965198005, 0.033278207490741958, 0.088806627131433627, 0.160442261528267460, 0.212672296767515007, 0.212672296767515007, 0.160442261528267488, 0.088806627131433641, 0.033278207490741958, 0.006356016965198005, -0.000704279869724261, -0.000719509669033846, -0.000131620344397975);
antial5 = fi.fir(antial5Taps);
kernel5 = *(_, 0.480136813505922688) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.752348189406112589, 0.841010472363842521) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.932954811757366942, 0.972745590848192787) : fi.tf2np(1.000000000000000000, -1.000000000000000000, 0.000000000000000000, -0.378210297140826157, 0.000000000000000000);
branch5 = antial5 : ^(_, 5) : *(_, ^(gainAdjust, -4)) : kernel5;

antial6Taps = (-0.000083927268881708, -0.000116129177652551, 0.001977105782739208, 0.012725085114785987, 0.041844377254207060, 0.093213993548832502, 0.154025650255046886, 0.196413844490922529, 0.196413844490922473, 0.154025650255046914, 0.093213993548832516, 0.041844377254207060, 0.012725085114785989, 0.001977105782739207, -0.000116129177652551, -0.000083927268881708);
antial6 = fi.fir(antial6Taps);
kernel6 = *(_, 0.466187544919180019) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.975037926912222241, 0.976760443223490427) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.995579187100690044, 0.996297627705847844) : fi.tf2np(1.000000000000000000, -1.000000000000000000, 0.000000000000000000, -0.886855907688243406, 0.000000000000000000);
branch6 = antial6 : ^(_, 6) : *(_, ^(gainAdjust, -5)) : kernel6;

antial7Taps = (-0.000010069732169315, 0.000460374293187104, 0.004015637257435390, 0.016918362701966356, 0.046888034424355352, 0.095330177683009873, 0.149758895537069031, 0.186638587835146252, 0.186638587835146225, 0.149758895537069031, 0.095330177683009887, 0.046888034424355338, 0.016918362701966356, 0.004015637257435390, 0.000460374293187104, -0.000010069732169315);
antial7 = fi.fir(antial7Taps);
kernel7 = *(_, 0.310488162853667093) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.994028322186736313, 0.994136958550245975) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.999028045621221272, 0.999073013356166162) : fi.tf2np(1.000000000000000000, -1.000000000000000000, 0.000000000000000000, -0.970462209233805440, 0.000000000000000000);
branch7 = antial7 : ^(_, 7) : *(_, ^(gainAdjust, -6)) : kernel7;

antial8Taps = (0.000060990243458550, 0.000931105761738659, 0.005509964058003235, 0.019759697225958973, 0.050082301965210851, 0.096477027474973831, 0.146846660128023665, 0.180332253142632154, 0.180332253142632154, 0.146846660128023693, 0.096477027474973831, 0.050082301965210851, 0.019759697225958973, 0.005509964058003235, 0.000931105761738659, 0.000060990243458550);
antial8 = fi.fir(antial8Taps);
kernel8 = *(_, 0.325722990904507015) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.814742806533244712, 0.879139790969857393) : fi.tf2np(1.000000000000000000, -1.000000000000000000, 0.000000000000000000, -0.579266099141388380, 0.000000000000000000);
branch8 = antial8 : ^(_, 8) : *(_, ^(gainAdjust, -7)) : kernel8;

antial9Taps = (0.000121710583143375, 0.001300621786255409, 0.006612063439069865, 0.021755711729133757, 0.052228971010856259, 0.097159394159344298, 0.144789837601296822, 0.176031689690900189, 0.176031689690900189, 0.144789837601296822, 0.097159394159344298, 0.052228971010856266, 0.021755711729133757, 0.006612063439069865, 0.001300621786255409, 0.000121710583143375);
antial9 = fi.fir(antial9Taps);
kernel9 = *(_, 0.602801110304668208) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.920492901567416366, 0.937161778933480516) : fi.tf2np(1.000000000000000000, -1.000000000000000000, 0.000000000000000000, -0.765796621557772061, 0.000000000000000000);
branch9 = antial9 : ^(_, 9) : *(_, ^(gainAdjust, -8)) : kernel9;

antial10Taps = (0.000171666505216428, 0.001589319070160871, 0.007439237308838892, 0.023205827351985411, 0.053741240256753066, 0.097595734266745796, 0.143289535790513067, 0.172967439449786320, 0.172967439449786320, 0.143289535790513067, 0.097595734266745796, 0.053741240256753073, 0.023205827351985418, 0.007439237308838892, 0.001589319070160871, 0.000171666505216428);
antial10 = fi.fir(antial10Taps);
kernel10 = *(_, 0.259819952603377313) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.963773248118169334, 0.968011447516705648) : fi.tf2np(1.000000000000000000, -1.000000000000000000, 0.000000000000000000, -0.875740511957519563, 0.000000000000000000);
branch10 = antial10 : ^(_, 10) : *(_, ^(gainAdjust, -9)) : kernel10;

antial11Taps = (0.000212242840689431, 0.001815788590747693, 0.008070244070425829, 0.024286661902706039, 0.054843267718703528, 0.097889585337351176, 0.142167834146411320, 0.170714375392964968, 0.170714375392964968, 0.142167834146411320, 0.097889585337351162, 0.054843267718703528, 0.024286661902706039, 0.008070244070425829, 0.001815788590747693, 0.000212242840689431);
antial11 = fi.fir(antial11Taps);
kernel11 = *(_, 0.315186714234915621) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.998692681193185328, 0.998699570551325633) : fi.tf2np(1.000000000000000000, -1.000000000000000000, 0.000000000000000000, -0.994716239862572182, 0.000000000000000000);
branch11 = antial11 : ^(_, 11) : *(_, ^(gainAdjust, -10)) : kernel11;

antial12Taps = (0.000245319307774132, 0.001995982460208873, 0.008562452242923537, 0.025115735019764125, 0.055674676594171392, 0.098097687512643597, 0.141305381975894789, 0.169002764886619583, 0.169002764886619555, 0.141305381975894789, 0.098097687512643625, 0.055674676594171392, 0.025115735019764128, 0.008562452242923537, 0.001995982460208873, 0.000245319307774132);
antial12 = fi.fir(antial12Taps);
kernel12 = *(_, 0.208383530793412902) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.968502787126777065, 0.971791422100420021) : fi.tf2np(1.000000000000000000, -1.000000000000000000, 0.000000000000000000, -0.889838659497631079, 0.000000000000000000);
branch12 = antial12 : ^(_, 12) : *(_, ^(gainAdjust, -11)) : kernel12;

antial13Taps = (0.000272333839990214, 0.002140495480278933, 0.008951264118284745, 0.025762219128701417, 0.056314597504067657, 0.098249570857822752, 0.140631592954871071, 0.167677926115983283, 0.167677926115983256, 0.140631592954871099, 0.098249570857822766, 0.056314597504067664, 0.025762219128701417, 0.008951264118284745, 0.002140495480278933, 0.000272333839990214);
antial13 = fi.fir(antial13Taps);
kernel13 = *(_, 0.084394389273507744) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.014131017955260727, 0.670921881183877411) : fi.tf2np(1.000000000000000000, -1.000000000000000000, 0.000000000000000000, -0.001038349301454443, 0.000000000000000000);
branch13 = antial13 : ^(_, 13) : *(_, ^(gainAdjust, -12)) : kernel13;

antial14Taps = (0.000294660684122961, 0.002258324054581332, 0.009264692688208127, 0.026278265318845140, 0.056820328085820097, 0.098364534901719924, 0.140092951985758774, 0.166626242280943554, 0.166626242280943554, 0.140092951985758774, 0.098364534901719952, 0.056820328085820111, 0.026278265318845143, 0.009264692688208127, 0.002258324054581332, 0.000294660684122961);
antial14 = fi.fir(antial14Taps);
kernel14 = *(_, 0.250361706326767131) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.998692681193185328, 0.998699570551325633) : fi.tf2np(1.000000000000000000, -1.000000000000000000, 0.000000000000000000, -0.994716239862572182, 0.000000000000000000);
branch14 = antial14 : ^(_, 14) : *(_, ^(gainAdjust, -13)) : kernel14;

antial15Taps = (0.000313135340284862, 0.002354759348350153, 0.009518843096216981, 0.026693348373177737, 0.057223760768145400, 0.098452870102809217, 0.139659153166616756, 0.165784129804398772, 0.165784129804398828, 0.139659153166616784, 0.098452870102809217, 0.057223760768145400, 0.026693348373177737, 0.009518843096216985, 0.002354759348350153, 0.000313135340284862);
antial15 = fi.fir(antial15Taps);
kernel15 = *(_, 0.397451129734672171) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.999347850354975309, 0.999349573255388202) : fi.tf2np(1.000000000000000000, -1.000000000000000000, 0.000000000000000000, -0.997354626681965395, 0.000000000000000000);
branch15 = antial15 : ^(_, 15) : *(_, ^(gainAdjust, -14)) : kernel15;

antial16Taps = (0.000328648075066796, 0.002435055973496565, 0.009728950926029798, 0.027034359305572003, 0.057553065090140132, 0.098522811507655392, 0.139302414216131931, 0.165094694905907308, 0.165094694905907280, 0.139302414216131931, 0.098522811507655420, 0.057553065090140132, 0.027034359305572003, 0.009728950926029798, 0.002435055973496565, 0.000328648075066796);
antial16 = fi.fir(antial16Taps);
kernel16 = *(_, 0.703294986380198051) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.997373300615872482, 0.997400840093939256) : fi.tf2np(1.000000000000000000, -1.000000000000000000, 0.000000000000000000, -0.989460306320017913, 0.000000000000000000);
branch16 = antial16 : ^(_, 16) : *(_, ^(gainAdjust, -15)) : kernel16;

antial17Taps = (0.000341788628928354, 0.002502611042645949, 0.009904688685178948, 0.027318127122262760, 0.057825635091029760, 0.098579220488883734, 0.139005314477650271, 0.164522614463420092, 0.164522614463420092, 0.139005314477650299, 0.098579220488883734, 0.057825635091029767, 0.027318127122262753, 0.009904688685178950, 0.002502611042645949, 0.000341788628928354);
antial17 = fi.fir(antial17Taps);
kernel17 = *(_, 0.351902999422860963) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.996709097346633710, 0.996752113749214796) : fi.tf2np(1.000000000000000000, -1.000000000000000000, 0.000000000000000000, -0.986842700319097932, 0.000000000000000000);
branch17 = antial17 : ^(_, 17) : *(_, ^(gainAdjust, -16)) : kernel17;

antial18Taps = (0.000352918615816568, 0.002559493739490088, 0.010051915983477851, 0.027554800184170572, 0.058051912619588357, 0.098624969506699606, 0.138757342647862242, 0.164046646702894733, 0.164046646702894733, 0.138757342647862242, 0.098624969506699633, 0.058051912619588357, 0.027554800184170572, 0.010051915983477851, 0.002559493739490088, 0.000352918615816568);
antial18 = fi.fir(antial18Taps);
kernel18 = *(_, 0.175790388922554497) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.995371685206519086, 0.995455942331405219) : fi.tf2np(1.000000000000000000, -1.000000000000000000, 0.000000000000000000, -0.981628062917318411, 0.000000000000000000);
branch18 = antial18 : ^(_, 18) : *(_, ^(gainAdjust, -17)) : kernel18;

antial19Taps = (0.000362495991398912, 0.002608216936624091, 0.010177525675287518, 0.027756016455590813, 0.058243586262717376, 0.098662999472738863, 0.138546399208517218, 0.163642759997125131, 0.163642759997125131, 0.138546399208517246, 0.098662999472738863, 0.058243586262717396, 0.027756016455590813, 0.010177525675287517, 0.002608216936624092, 0.000362495991398912);
antial19 = fi.fir(antial19Taps);
kernel19 = *(_, 0.156931034549778942) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.996041890853161194, 0.996103814262246035) : fi.tf2np(1.000000000000000000, -1.000000000000000000, 0.000000000000000000, -0.984231962258913629, 0.000000000000000000);
branch19 = antial19 : ^(_, 19) : *(_, ^(gainAdjust, -18)) : kernel19;

antial20Taps = (0.000370708390809382, 0.002649821835397248, 0.010284397436904827, 0.027926669063097046, 0.058405599531786513, 0.098694582516193646, 0.138367402169156828, 0.163300819056654500, 0.163300819056654500, 0.138367402169156883, 0.098694582516193646, 0.058405599531786513, 0.027926669063097046, 0.010284397436904827, 0.002649821835397248, 0.000370708390809382);
antial20 = fi.fir(antial20Taps);
kernel20 = *(_, 0.787812683533561042) : fi.tf2np(1.000000000000000000, -2.000000000000000000, 1.000000000000000000, -1.996709097346633710, 0.996752113749214796) : fi.tf2np(1.000000000000000000, -1.000000000000000000, 0.000000000000000000, -0.986842700319097932, 0.000000000000000000);
branch20 = antial20 : ^(_, 20) : *(_, ^(gainAdjust, -19)) : kernel20;

process = _ <: branch1, branch2, branch3, branch4, branch5, branch6, branch7, branch8, branch9, branch10, branch11, branch12, branch13, branch14, branch15, branch16, branch17, branch18, branch19, branch20 :> _;
